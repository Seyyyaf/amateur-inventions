<?php
// Comic data stored as PHP array
$comics = [
  [
    "title" => "Viral Hit",
    "genre" => "Action",
    "author" => "Taejun Park, Kim Junghyun",
    "description" => "A bullied teen becomes a viral street-fighting sensation.",
    "image" => "images/viralhit.jpg",
    "link" => "https://www.webtoons.com/en/action/viral-hit/list?title_no=2268"
  ],
  [
    "title" => "Eleceed",
    "genre" => "Action",
    "author" => "Son Jeho, Zhena",
    "description" => "A kind-hearted boy with lightning-fast reflexes teams up with a secret agent cat to fight evil.",
    "image" => "images/eleceed.jpg",
    "link" => "https://www.webtoons.com/en/action/eleceed/list?title_no=1571"
  ],
  [
    "title" => "The Boxer",
    "genre" => "Action",
    "author" => "JH",
    "description" => "A cold and emotionless prodigy steps into the boxing ring.",
    "image" => "images/boxer.jpg",
    "link" => "https://www.webtoons.com/en/action/the-boxer/list?title_no=2027"
  ],
  [
    "title" => "Lookism",
    "genre" => "Action",
    "author" => "Taejun Park",
    "description" => "A high school student lives a double life in two different bodies.",
    "image" => "images/lookism.jpg",
    "link" => "https://www.webtoons.com/en/drama/lookism/list?title_no=1049"
  ],
  [
    "title" => "Omniscient Reader's Viewpoint",
    "genre" => "Fantasy",
    "author" => "Sing N Song, Sleepy-C",
    "description" => "A novel reader becomes the main character in the apocalyptic story he read.",
    "image" => "images/omniscient.jpg",
    "link" => "https://www.webtoons.com/en/action/omniscient-readers-viewpoint/list?title_no=2154"
  ],
  [
    "title" => "Sweet Home",
    "genre" => "Thriller",
    "author" => "Carnby Kim, Youngchan Hwang",
    "description" => "Monsters invade Korea, and a loner must fight to survive.",
    "image" => "images/sweethome.jpg",
    "link" => "https://www.webtoons.com/en/thriller/sweethome/list?title_no=1285"
  ],
  [
    "title" => "Love Advice from the Great Duke of Hell",
    "genre" => "Comedy",
    "author" => "Unfins",
    "description" => "A shy teen summons a demon to help him win his crush's heart.",
    "image" => "images/loveadvice.jpg",
    "link" => "https://www.webtoons.com/en/comedy/love-advice-from-the-great-duke-of-hell/list?title_no=1467"
  ],
  [
    "title" => "The God of High School",
    "genre" => "Action",
    "author" => "Yongje Park",
    "description" => "High schoolers battle in a tournament with mystical powers at stake.",
    "image" => "images/goh.jpg",
    "link" => "https://www.webtoons.com/en/action/the-god-of-high-school/list?title_no=66"
  ],
  [
    "title" => "Pigpen",
    "genre" => "Thriller",
    "author" => "Carnby Kim, Beom Sick",
    "description" => "A man wakes up on a mysterious island with no memory.",
    "image" => "images/pigpen.jpg",
    "link" => "https://www.webtoons.com/en/thriller/pigpen/list?title_no=1706"
  ],
  [
    "title" => "The Bastard",
    "genre" => "Thriller",
    "author" => "Carnby Kim, Youngchan Hwang",
    "description" => "A boy raised by a serial killer struggles with morality and survival.",
    "image" => "images/bastard.jpg",
    "link" => "https://www.webtoons.com/en/thriller/bastard/list?title_no=485"
  ],
  [
    "title" => "She is Hopeless",
    "genre" => "Romance",
    "author" => "Kim Yeonwoo",
    "description" => "A love triangle between a shy girl, her crush, and a mysterious senior.",
    "image" => "images/sheis.jpg",
    "link" => "https://www.webtoons.com/en/romance/she-is-hopeless/list?title_no=2683"
  ],
  [
    "title" => "Our Beloved Summer",
    "genre" => "Romance",
    "author" => "Han Kyoung Chal",
    "description" => "High school lovers reunite while filming a documentary years later.",
    "image" => "images/ourbeloved.jpg",
    "link" => "https://www.webtoons.com/en/romance/our-beloved-summer/list?title_no=3609"
  ],
  [
    "title" => "The Greatest Estate Developer",
    "genre" => "Comedy",
    "author" => "Lee Hyunmin, Kim Hyunsoo",
    "description" => "A civil engineer reincarnates into a fantasy world and uses his skills to revolutionize estate development.",
    "image" => "images/greatestestate.jpg",
    "link" => ""
  ],
  [
    "title" => "Infinite Leveling: Murim",
    "genre" => "Action",
    "author" => "Gom-Guk, Jinwoo Kim",
    "description" => "After death, a man returns to the world of Murim with a leveling system.",
    "image" => "images/infiniteleveling.jpg",
    "link" => ""
  ],
  [
    "title" => "Windbreaker",
    "genre" => "Sports",
    "author" => "Yongseok Jo",
    "description" => "Jay is a talented cyclist leading a crew through high-speed street races.",
    "image" => "images/windbreaker.jpg",
    "link" => "https://www.webtoons.com/en/sports/wind-breaker/list?title_no=372"
  ],
  [
    "title" => "Murim Login",
    "genre" => "Action",
    "author" => "Jeong Sang Young",
    "description" => "A hunter logs into a VR game world of Murim that starts becoming real.",
    "image" => "images/murimlogin.jpg",
    "link" => ""
  ],
  [
    "title" => "If AI Ruled the World",
    "genre" => "Sci-Fi",
    "author" => "Aeju",
    "description" => "Explores a society where AI controls human life, and a rebellion is sparked.",
    "image" => "images/aiworld.jpg",
    "link" => ""
  ],
  [
    "title" => "Horizon",
    "genre" => "Drama",
    "author" => "JH",
    "description" => "A post-apocalyptic tale of a boy and a girl surviving in a devastated world.",
    "image" => "images/horizon.jpg",
    "link" => "https://www.webtoons.com/en/drama/horizon/list?title_no=94"
  ],
  [
    "title" => "Legend of the Northern Blade",
    "genre" => "Action",
    "author" => "Hae-Min",
    "description" => "A martial arts story of vengeance and justice.",
    "image" => "images/legendofthe.jpg",
    "link" => ""
  ],
  [
    "title" => "May Be Meant To Be",
    "genre" => "Romance",
    "author" => "Hyeonyoung",
    "description" => "A lighthearted romance about an impulsive marriage and finding real love.",
    "image" => "images/maybe.jpg",
    "link" => "https://www.webtoons.com/en/romance/maybe-meant-to-be/list?title_no=4536"
  ],
  [
    "title" => "The Novel's Extra",
    "genre" => "Fantasy",
    "author" => "Jee Gab Song",
    "description" => "A writer wakes up in his own novel as a side character.",
    "image" => "images/novelsextra.jpg",
    "link" => ""
  ],
  [
    "title" => "Return of the Mount Hua Sect",
    "genre" => "Action",
    "author" => "Biga",
    "description" => "A martial artist reincarnates to restore his fallen sect.",
    "image" => "images/returnof.jpg",
    "link" => ""
  ],
  [
    "title" => "The Beginning After the End",
    "genre" => "Fantasy",
    "author" => "TurtleMe, Fuyuki23",
    "description" => "A king is reincarnated into a magical world and seeks to live a freer life.",
    "image" => "images/tbate.jpg",
    "link" => ""
  ],
  [
    "title" => "Doom Breaker",
    "genre" => "Fantasy",
    "author" => "Blue Deep, Cheongdam",
    "description" => "A man defies fate after being sent back in time to prevent destruction.",
    "image" => "images/doombreaker.jpg",
    "link" => ""
  ],
  [
    "title" => "Enrolling in the Transcended Academy",
    "genre" => "Comedy",
    "author" => "Updating",
    "description" => "A normal student is thrown into a school where gods and powerful beings study.",
    "image" => "images/transcendedacademy.jpg",
    "link" => ""
  ],
  [
    "title" => "My S-Class Hunters",
    "genre" => "Fantasy",
    "author" => "Geunseo, Biwan",
    "description" => "Jinwoo goes back in time to protect his brother—and accidentally becomes OP.",
    "image" => "images/sclasshunters.jpg",
    "link" => "https://www.webtoons.com/en/action/my-s-class-hunters/list?title_no=3981"
  ],
  [
    "title" => "Surviving Romance",
    "genre" => "Thriller",
    "author" => "Lee Yone",
    "description" => "Chaerin thought she was the main character in a romance novel—until it turned into a zombie apocalypse.",
    "image" => "images/survivingromance.jpg",
    "link" => "https://www.webtoons.com/en/thriller/surviving-romance/list?title_no=2730"
  ],
  [
    "title" => "Heavenly Eats",
    "genre" => "Comedy",
    "author" => "Mo9Rang, Doryeong",
    "description" => "A fallen god opens a restaurant on Earth, serving divine food to mortals and spirits alike.",
    "image" => "images/heavenlyeats.jpg",
    "link" => "https://www.webtoons.com/en/comedy/heavenly-eats/list?title_no=5147"
  ],
  [
    "title" => "Toaster Dude",
    "genre" => "Comedy",
    "author" => "jjoom",
    "description" => "A hilarious story about a guy whose head turns into a toaster—and the absurd chaos that follows.",
    "image" => "images/toasterdude.jpg",
    "link" => "https://www.webtoons.com/en/comedy/toaster-dude/list?title_no=3837"
  ],
  [
    "title" => "Muse on Fame",
    "genre" => "Romance",
    "author" => "Yeonhui, Dami",
    "description" => "An aspiring artist crosses paths with a famous idol, leading to a complex romance under the spotlight.",
    "image" => "images/museonfame.jpg",
    "link" => "https://www.webtoons.com/en/romance/muse-on-fame/list?title_no=5205"
  ],
  [
    "title" => "No Outtakes",
    "genre" => "Romance",
    "author" => "Gomdal, Mirchi",
    "description" => "A chaotic romance blossoms between an actress and a perfectionist director behind the scenes of a drama set.",
    "image" => "images/noouttakes.jpg",
    "link" => "https://www.webtoons.com/en/romance/no-outtakes/list?title_no=5370"
  ],
  [
    "title" => "Shotgun Boy",
    "genre" => "Thriller",
    "author" => "Carnby Kim, Hongpil",
    "description" => "A bullied teen finds a shotgun in the middle of a monster outbreak—and finally fights back.",
    "image" => "images/shotgunboy.jpg",
    "link" => "https://www.webtoons.com/en/thriller/shotgun-boy/list?title_no=2261"
  ],
  [
    "title" => "Death's Game",
    "genre" => "Thriller",
    "author" => "Lee Won-sik, Ggulchan",
    "description" => "After taking his own life, a man is forced by Death to live multiple lives—and die over and over again.",
    "image" => "images/deathsgame.jpg",
    "link" => "https://www.webtoons.com/en/thriller/deaths-game/list?title_no=5005"
  ],
  [
    "title" => "Absolute Regression",
    "genre" => "Action",
    "author" => "BAM, Redice Studio",
    "description" => "A warrior returns to the past after death to change the fate of humanity and prevent a catastrophic future.",
    "image" => "images/absoluteregression.jpg",
    "link" => ""
  ]
];
?>

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Comic Finder</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: 'Inter', sans-serif;
      padding: 20px;
      background: #f4f4f4;
      margin: 0;
    }
    h1 {
      text-align: center;
      color: #333;
    }
    .controls {
      text-align: center;
      margin-bottom: 20px;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
    }
    .controls input,
    .controls select {
      padding: 10px;
      margin: 5px;
      width: 250px;
      border: 1px solid #ddd;
      border-radius: 5px;
      font-family: 'Inter', sans-serif;
    }
    #comicList {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      justify-content: center;
      padding: 10px;
    }
    .comic-card {
      background: white;
      border-radius: 10px;
      padding: 15px;
      width: 250px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      transition: transform 0.3s ease;
    }
    .comic-card:hover {
      transform: translateY(-5px);
    }
    .comic-card img.cover {
      width: 100%;
      height: 300px;
      object-fit: cover;
      border-radius: 5px;
    }
    .comic-card h3 {
      margin: 10px 0 5px;
      color: #222;
    }
    .comic-card p {
      margin: 5px 0;
      color: #555;
      font-size: 14px;
    }
    .comic-card a {
      display: inline-block;
      margin-top: 10px;
      color: #007bff;
      text-decoration: none;
      font-weight: bold;
    }
    .comic-card a:hover {
      text-decoration: underline;
    }
    .no-results {
      text-align: center;
      width: 100%;
      padding: 20px;
      color: #666;
    }
    @media (max-width: 600px) {
      .controls {
        flex-direction: column;
        align-items: center;
      }
      .controls input,
      .controls select {
        width: 90%;
      }
      .comic-card {
        width: 100%;
      }
    }
  </style>
</head>
<body>

<h1>Comic Finder by Genre</h1>

<div class="controls">
  <input type="text" id="searchInput" placeholder="Search comics by title..." />
  <select id="genreSelect">
    <option value="all">All Genres</option>
    <option value="Action">Action</option>
    <option value="Romance">Romance</option>
    <option value="Fantasy">Fantasy</option>
    <option value="Comedy">Comedy</option>
    <option value="Thriller">Thriller</option>
    <option value="Sports">Sports</option>
    <option value="Sci-Fi">Sci-Fi</option>
    <option value="Drama">Drama</option>
  </select>
</div>

<div id="comicList"></div>

<script>
  const comics = <?php echo json_encode($comics); ?>;
  const genreSelect = document.getElementById("genreSelect");
  const searchInput = document.getElementById("searchInput");
  const comicList = document.getElementById("comicList");

  // Function to display comics
  function showComics(genre = "all", keyword = "") {
    comicList.innerHTML = "";

    let filtered = comics;
    
    // Filter by genre if not "all"
    if (genre !== "all") {
      filtered = filtered.filter(c => 
        c.genre.toLowerCase() === genre.toLowerCase()
      );
    }
    
    // Filter by keyword if provided
    if (keyword.trim() !== "") {
      const searchTerm = keyword.toLowerCase();
      filtered = filtered.filter(c =>
        c.title.toLowerCase().includes(searchTerm) ||
        (c.description && c.description.toLowerCase().includes(searchTerm)) ||
        (c.author && c.author.toLowerCase().includes(searchTerm))
      );
    }

    // Display results or no results message
    if (filtered.length === 0) {
      const noResults = document.createElement("div");
      noResults.className = "no-results";
      noResults.textContent = "No comics found matching your criteria.";
      comicList.appendChild(noResults);
      return;
    }

    // Create comic cards
    filtered.forEach(comic => {
      const div = document.createElement("div");
      div.className = "comic-card";
      
      // Handle missing image case
      const imageSrc = comic.image || "images/default.jpg";
      const imageAlt = comic.title || "Comic cover";
      
      div.innerHTML = `
        <img src="${imageSrc}" alt="${imageAlt}" class="cover" onerror="this.src='images/default.jpg'">
        <h3>${comic.title || "Untitled Comic"}</h3>
        <p><strong>Genre:</strong> ${comic.genre || "Unknown"}</p>
        <p><strong>Author:</strong> ${comic.author || "Unknown"}</p>
        <p>${comic.description || "No description available."}</p>
        ${comic.link ? `<a href="${comic.link}" target="_blank" rel="noopener noreferrer">Read on Webtoon</a>` : ""}
      `;
      comicList.appendChild(div);
    });
  }

  // Event listeners with debounce for search input
  let searchTimeout;
  searchInput.addEventListener("input", () => {
    clearTimeout(searchTimeout);
    searchTimeout = setTimeout(() => {
      showComics(genreSelect.value, searchInput.value);
    }, 300);
  });

  genreSelect.addEventListener("change", () => {
    showComics(genreSelect.value, searchInput.value);
  });

  // Initial render
  showComics();
</script>

</body>
</html>